07/12/2024 16:11:00 - INFO - __main__ -   Namespace(model_type='roberta', model_name_or_path='microsoft/codebert-base', output_dir='model/java', load_model_path='model/java/checkpoint-best-bleu/pytorch_model.bin', train_filename=None, dev_filename=None, test_filename='../dataset/java/test.jsonl', config_name='', tokenizer_name='', max_source_length=256, max_target_length=128, do_train=False, do_eval=False, do_test=True, do_lower_case=False, no_cuda=False, quantize=False, quantize4=False, quantizef8=False, prune=False, prune4=True, prune6=False, train_batch_size=8, eval_batch_size=64, gradient_accumulation_steps=1, learning_rate=5e-05, beam_size=10, weight_decay=0.0, adam_epsilon=1e-08, max_grad_norm=1.0, num_train_epochs=3, max_steps=-1, eval_steps=-1, train_steps=-1, warmup_steps=0, local_rank=-1, seed=42, job_id='12045', file_len=300)
07/12/2024 16:11:00 - WARNING - __main__ -   Process rank: -1, device: cuda, n_gpu: 1, distributed training: False
07/12/2024 16:11:02 - INFO - __main__ -   reload model from model/java/checkpoint-best-bleu/pytorch_model.bin
07/12/2024 16:11:03 - INFO - __main__ -   Apply model pruning 0.4
07/12/2024 16:11:06 - INFO - __main__ -   Size (MB): 948.612026
07/12/2024 16:11:06 - INFO - __main__ -   Test file: ../dataset/java/test.jsonl
  0%|          | 0/172 [00:00<?, ?it/s]/NFSHOME/gdaloisio/code/CodeXGLUE/Code-Text/code-to-text/code/model.py:114: UserWarning: The torch.cuda.*DtypeTensor constructors are no longer recommended. It's best to use methods such as torch.tensor(data, dtype=*, device='cuda') to create tensors. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:78.)
  self.scores = self.tt.FloatTensor(size).zero_()
  1%|          | 1/172 [01:29<4:14:09, 89.18s/it]  1%|          | 2/172 [02:12<2:56:51, 62.42s/it]  2%|▏         | 3/172 [03:16<2:57:35, 63.05s/it]  2%|▏         | 4/172 [03:59<2:34:32, 55.20s/it]  3%|▎         | 5/172 [05:14<2:52:47, 62.08s/it]  3%|▎         | 6/172 [07:09<3:42:21, 80.37s/it]  4%|▍         | 7/172 [08:57<4:05:09, 89.15s/it]  5%|▍         | 8/172 [10:07<3:46:51, 83.00s/it]  5%|▌         | 9/172 [10:59<3:19:58, 73.61s/it]  6%|▌         | 10/172 [12:00<3:07:29, 69.44s/it]  6%|▋         | 11/172 [13:18<3:13:23, 72.07s/it]  7%|▋         | 12/172 [14:19<3:03:48, 68.93s/it]  8%|▊         | 13/172 [15:45<3:15:54, 73.93s/it]  8%|▊         | 14/172 [17:16<3:28:30, 79.18s/it]  9%|▊         | 15/172 [18:01<3:00:28, 68.97s/it]  9%|▉         | 16/172 [19:10<2:58:48, 68.77s/it] 10%|▉         | 17/172 [19:51<2:36:03, 60.41s/it] 10%|█         | 18/172 [21:11<2:50:09, 66.29s/it] 11%|█         | 19/172 [22:35<3:02:31, 71.58s/it] 12%|█▏        | 20/172 [23:40<2:56:27, 69.65s/it] 12%|█▏        | 21/172 [24:32<2:42:20, 64.51s/it] 13%|█▎        | 22/172 [25:13<2:23:32, 57.42s/it] 13%|█▎        | 23/172 [26:19<2:28:51, 59.95s/it] 14%|█▍        | 24/172 [27:09<2:20:45, 57.06s/it] 15%|█▍        | 25/172 [28:12<2:23:44, 58.67s/it] 15%|█▌        | 26/172 [29:41<2:45:13, 67.90s/it] 16%|█▌        | 27/172 [30:33<2:32:13, 62.99s/it] 16%|█▋        | 28/172 [31:25<2:23:30, 59.79s/it] 17%|█▋        | 29/172 [32:18<2:17:52, 57.85s/it] 17%|█▋        | 30/172 [33:22<2:21:13, 59.67s/it] 18%|█▊        | 31/172 [34:04<2:07:33, 54.28s/it] 19%|█▊        | 32/172 [34:56<2:04:56, 53.55s/it] 19%|█▉        | 33/172 [36:12<2:19:26, 60.19s/it] 20%|█▉        | 34/172 [36:54<2:06:20, 54.93s/it] 20%|██        | 35/172 [37:47<2:03:43, 54.19s/it] 21%|██        | 36/172 [38:30<1:55:23, 50.91s/it] 22%|██▏       | 37/172 [39:15<1:50:40, 49.19s/it] 22%|██▏       | 38/172 [40:01<1:47:28, 48.12s/it] 23%|██▎       | 39/172 [40:44<1:43:35, 46.73s/it] 23%|██▎       | 40/172 [41:46<1:53:03, 51.39s/it] 24%|██▍       | 41/172 [42:59<2:06:10, 57.79s/it] 24%|██▍       | 42/172 [43:56<2:04:33, 57.49s/it] 25%|██▌       | 43/172 [44:52<2:02:34, 57.01s/it] 26%|██▌       | 44/172 [45:55<2:05:27, 58.81s/it] 26%|██▌       | 45/172 [47:25<2:24:04, 68.06s/it] 27%|██▋       | 46/172 [48:53<2:35:38, 74.11s/it] 27%|██▋       | 47/172 [49:31<2:12:14, 63.47s/it] 28%|██▊       | 48/172 [50:25<2:05:14, 60.60s/it] 28%|██▊       | 49/172 [50:58<1:47:08, 52.26s/it] 29%|██▉       | 50/172 [52:10<1:58:06, 58.08s/it] 30%|██▉       | 51/172 [53:13<2:00:07, 59.57s/it] 30%|███       | 52/172 [54:16<2:01:10, 60.59s/it] 31%|███       | 53/172 [55:24<2:04:34, 62.81s/it] 31%|███▏      | 54/172 [57:14<2:31:24, 76.99s/it] 32%|███▏      | 55/172 [58:03<2:13:50, 68.64s/it] 33%|███▎      | 56/172 [59:02<2:06:53, 65.63s/srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
slurmstepd-compute-0-3: error: *** JOB 12045 ON compute-0-3 CANCELLED AT 2024-07-12T17:22:31 ***
it] 33%|███▎      | 57/172 [1:00:07<2:05:44, 65.60s/it] 34%|███▎      | 58/172 [1:01:09<2:02:44, 64.60s/it] 34%|███▍      | 59/172 [1:02:15<2:02:30, 65.05s/it] 35%|███▍      | 60/172 [1:03:06<1:53:28, 60.79s/it] 35%|███▌      | 61/172 [1:04:19<1:59:12, 64.44s/it] 36%|███▌      | 62/172 [1:05:57<2:16:14, 74.32s/it] 37%|███▋      | 63/172 [1:07:07<2:12:36, 72.99s/it] 37%|███▋      | 64/172 [1:08:11<2:06:37, 70.35s/it] 38%|███▊      | 65/172 [1:09:09<1:59:08, 66.81s/it] 38%|███▊      | 66/172 [1:10:01<1:49:49, 62.16s/it] 39%|███▉      | 67/172 [1:10:50<1:41:59, 58.28s/it]slurmstepd-compute-0-3: error: *** STEP 12045.0 ON compute-0-3 CANCELLED AT 2024-07-12T17:22:31 ***
