07/12/2024 16:51:48 - INFO - __main__ -   Namespace(model_type='roberta', model_name_or_path='microsoft/codebert-base', output_dir='model/java', load_model_path='model/java/checkpoint-best-bleu/pytorch_model.bin', train_filename=None, dev_filename=None, test_filename='../dataset/java/test.jsonl', config_name='', tokenizer_name='', max_source_length=256, max_target_length=128, do_train=False, do_eval=False, do_test=True, do_lower_case=False, no_cuda=False, quantize=False, quantize4=False, quantizef8=False, prune=False, prune4=False, prune6=True, train_batch_size=8, eval_batch_size=64, gradient_accumulation_steps=1, learning_rate=5e-05, beam_size=10, weight_decay=0.0, adam_epsilon=1e-08, max_grad_norm=1.0, num_train_epochs=3, max_steps=-1, eval_steps=-1, train_steps=-1, warmup_steps=0, local_rank=-1, seed=42, job_id='12046', file_len=300)
07/12/2024 16:51:48 - WARNING - __main__ -   Process rank: -1, device: cuda, n_gpu: 1, distributed training: False
07/12/2024 16:51:51 - INFO - __main__ -   reload model from model/java/checkpoint-best-bleu/pytorch_model.bin
07/12/2024 16:51:52 - INFO - __main__ -   Apply model pruning 0.6
07/12/2024 16:51:55 - INFO - __main__ -   Size (MB): 948.612026
07/12/2024 16:51:55 - INFO - __main__ -   Test file: ../dataset/java/test.jsonl
  0%|          | 0/172 [00:00<?, ?it/s]/NFSHOME/gdaloisio/code/CodeXGLUE/Code-Text/code-to-text/code/model.py:114: UserWarning: The torch.cuda.*DtypeTensor constructors are no longer recommended. It's best to use methods such as torch.tensor(data, dtype=*, device='cuda') to create tensors. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:78.)
  self.scores = self.tt.FloatTensor(size).zero_()
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
slurmstepd-compute-0-3: error: *** JOB 12046 ON compute-0-3 CANCELLED AT 2024-07-12T17:22:31 ***
  1%|          | 1/172 [01:21<3:53:32, 81.94s/it]  1%|          | 2/172 [04:43<7:12:00, 152.48s/it]  2%|▏         | 3/172 [07:44<7:45:27, 165.25s/it]  2%|▏         | 4/172 [09:42<6:50:42, 146.68s/it]  3%|▎         | 5/172 [13:58<8:38:24, 186.26s/it]  3%|▎         | 6/172 [17:28<8:57:04, 194.12s/it]  4%|▍         | 7/172 [19:43<8:01:12, 174.99s/it]  5%|▍         | 8/172 [22:21<7:42:53, 169.35s/it]  5%|▌         | 9/172 [24:48<7:21:19, 162.45s/it]  6%|▌         | 10/172 [26:14<6:15:19, 139.01s/it]  6%|▋         | 11/172 [28:16<5:59:00, 133.79s/it]slurmstepd-compute-0-3: error: *** STEP 12046.0 ON compute-0-3 CANCELLED AT 2024-07-12T17:22:31 ***
