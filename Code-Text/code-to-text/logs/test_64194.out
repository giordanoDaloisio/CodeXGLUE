No CUDA runtime is found, using CUDA_HOME='/usr/local/cuda'
08/02/2024 18:48:56 - INFO - __main__ -   Namespace(model_type='roberta', model_name_or_path='microsoft/codebert-base', output_dir='model/java', load_model_path='model/java/checkpoint-best-bleu/pytorch_model.bin', train_filename=None, dev_filename=None, test_filename='../dataset/java/test.jsonl', config_name='', tokenizer_name='', max_source_length=256, max_target_length=128, do_train=False, do_eval=False, do_test=True, do_lower_case=False, no_cuda=True, quantize=False, quantize4=False, quantizef8=False, prune=False, prune4=False, prune6=False, do_retrain=False, train_batch_size=8, eval_batch_size=64, gradient_accumulation_steps=1, learning_rate=5e-05, beam_size=10, weight_decay=0.0, adam_epsilon=1e-08, max_grad_norm=1.0, num_train_epochs=3, max_steps=-1, eval_steps=-1, train_steps=-1, warmup_steps=0, local_rank=-1, seed=42, job_id='64194', file_len=300)
08/02/2024 18:48:56 - WARNING - __main__ -   Process rank: -1, device: cpu, n_gpu: 2, distributed training: False
08/02/2024 18:49:01 - INFO - __main__ -   reload model from model/java/checkpoint-best-bleu/pytorch_model.bin
08/02/2024 18:49:07 - INFO - __main__ -   Test file: ../dataset/java/test.jsonl
  0%|          | 0/172 [00:00<?, ?it/s]  1%|          | 1/172 [02:41<7:39:21, 161.18s/it]  1%|          | 2/172 [04:25<6:01:35, 127.62s/it]  2%|▏         | 3/172 [07:03<6:38:41, 141.55s/it]  2%|▏         | 4/172 [09:56<7:10:44, 153.83s/it]  3%|▎         | 5/172 [12:44<7:23:07, 159.21s/it]  3%|▎         | 6/172 [15:46<7:41:46, 166.90s/it]  4%|▍         | 7/172 [18:35<7:40:58, 167.63s/it]  5%|▍         | 8/172 [21:04<7:21:42, 161.60s/it]  5%|▌         | 9/172 [23:31<7:06:30, 156.99s/it]  6%|▌         | 10/172 [25:25<6:27:56, 143.68s/it]  6%|▋         | 11/172 [27:36<6:15:37, 139.99s/it]  7%|▋         | 12/172 [29:55<6:12:00, 139.50s/it]  8%|▊         | 13/172 [32:00<5:58:29, 135.28s/it]  8%|▊         | 14/172 [33:40<5:28:06, 124.60s/it]  9%|▊         | 15/172 [35:48<5:28:34, 125.57s/it]  9%|▉         | 16/172 [37:23<5:02:46, 116.45s/it] 10%|▉         | 17/172 [39:32<5:10:09, 120.06s/it] 10%|█         | 18/172 [41:53<5:24:22, 126.38s/it] 11%|█         | 19/172 [43:47<5:13:07, 122.80s/it] 12%|█▏        | 20/172 [45:16<4:45:30, 112.70s/it] 12%|█▏        | 21/172 [46:49<4:28:36, 106.73s/it] 13%|█▎        | 22/172 [48:32<4:24:07, 105.65s/it] 13%|█▎        | 23/172 [50:37<4:36:43, 111.43s/it] 14%|█▍        | 24/172 [52:25<4:31:58, 110.26s/it] 15%|█▍        | 25/172 [54:27<4:39:10, 113.95s/it] 15%|█▌        | 26/172 [56:42<4:52:38, 120.26s/it] 16%|█▌        | 27/172 [58:21<4:34:41, 113.66s/it] 16%|█▋        | 28/172 [1:00:22<4:38:37, 116.10s/it] 17%|█▋        | 29/172 [1:02:08<4:29:26, 113.05s/it] 17%|█▋        | 30/172 [1:04:05<4:30:06, 114.13s/it] 18%|█▊        | 31/172 [1:06:02<4:30:16, 115.01s/it] 19%|█▊        | 32/172 [1:08:18<4:42:50, 121.22s/it] 19%|█▉        | 33/172 [1:11:03<5:11:27, 134.45s/it] 20%|█▉        | 34/172 [1:12:45<4:46:40, 124.64s/it] 20%|██        | 35/172 [1:15:03<4:53:39, 128.61s/it] 21%|██        | 36/172 [1:17:27<5:02:14, 133.34s/it] 22%|██▏       | 37/172 [1:19:57<5:11:18, 138.36s/it] 22%|██▏       | 38/172 [1:22:08<5:03:38, 135.96s/it] 23%|██▎       | 39/172 [1:24:18<4:57:49, 134.36s/it] 23%|██▎       | 40/172 [1:26:04<4:36:59, 125.91s/it] 24%|██▍       | 41/172 [1:28:12<4:36:19, 126.56s/it] 24%|██▍       | 42/172 [1:30:15<4:31:29, 125.30s/it] 25%|██▌       | 43/172 [1:32:07<4:21:09, 121.47s/it] 26%|██▌       | 44/172 [1:33:46<4:04:50, 114.77s/it] 26%|██▌       | 45/172 [1:35:56<4:12:34, 119.33s/it] 27%|██▋       | 46/172 [1:37:33<3:56:32, 112.64s/it] 27%|██▋       | 47/172 [1:39:25<3:53:53, 112.27s/it] 28%|██▊       | 48/172 [1:40:43<3:30:38, 101.93s/it] 28%|██▊       | 49/172 [1:42:16<3:23:52, 99.45s/it]  29%|██▉       | 50/172 [1:43:49<3:17:48, 97.28s/it] 30%|██▉       | 51/172 [1:45:18<3:11:25, 94.92s/it] 30%|███       | 52/172 [1:47:02<3:15:34, 97.79s/it] 31%|███       | 53/172 [1:49:28<3:42:04, 111.97s/it] 31%|███▏      | 54/172 [1:51:38<3:51:10, 117.55s/it] 32%|███▏      | 55/172 [1:53:19<3:39:39, 112.65s/it] 33%|███▎      | 56/172 [1:55:13<3:38:28, 113.00s/it] 33%|███▎      | 57/172 [1:57:37<3:54:33, 122.38s/it] 34%|███▎      | 58/172 [1:59:17<3:39:35, 115.58s/it] 34%|███▍      | 59/172 [2:00:41<3:19:36, 105.99s/it] 35%|███▍      | 60/172 [2:02:13<3:10:00, 101.79s/it] 35%|███▌      | 61/172 [2:03:46<3:03:35, 99.24s/it]  36%|███▌      | 62/172 [2:05:10<2:53:46, 94.78s/it] 37%|███▋      | 63/172 [2:07:16<3:09:01, 104.05s/it] 37%|███▋      | 64/172 [2:09:11<3:13:26, 107.46s/it] 38%|███▊      | 65/172 [2:11:04<3:14:23, 109.01s/it] 38%|███▊      | 66/172 [2:12:46<3:08:35, 106.75s/it] 39%|███▉      | 67/172 [2:14:38<3:09:49, 108.47s/it] 40%|███▉      | 68/172 [2:16:20<3:04:52, 106.66s/it] 40%|████      | 69/172 [2:17:46<2:52:16, 100.36s/it] 41%|████      | 70/172 [2:19:33<2:53:52, 102.28s/it] 41%|████▏     | 71/172 [2:21:30<2:59:40, 106.73s/it] 42%|████▏     | 72/172 [2:23:28<3:03:33, 110.13s/it] 42%|████▏     | 73/172 [2:25:23<3:04:07, 111.59s/it] 43%|████▎     | 74/172 [2:27:19<3:04:16, 112.82s/it] 44%|████▎     | 75/172 [2:29:35<3:13:52, 119.93s/it] 44%|████▍     | 76/172 [2:31:39<3:13:38, 121.03s/it] 45%|████▍     | 77/172 [2:33:26<3:04:51, 116.76s/it] 45%|████▌     | 78/172 [2:35:25<3:03:55, 117.40s/it] 46%|████▌     | 79/172 [2:36:46<2:45:19, 106.66s/it] 47%|████▋     | 80/172 [2:38:27<2:40:56, 104.96s/it] 47%|████▋     | 81/172 [2:40:02<2:34:43, 102.02s/it] 48%|████▊     | 82/172 [2:41:31<2:27:03, 98.04s/it]  48%|████▊     | 83/172 [2:43:04<2:23:14, 96.57s/it] 49%|████▉     | 84/172 [2:44:46<2:23:45, 98.01s/it] 49%|████▉     | 85/172 [2:46:24<2:22:22, 98.19s/it] 50%|█████     | 86/172 [2:47:57<2:18:27, 96.59s/it] 51%|█████     | 87/172 [2:49:43<2:20:56, 99.48s/it] 51%|█████     | 88/172 [2:50:59<2:09:05, 92.21s/it] 52%|█████▏    | 89/172 [2:52:46<2:13:47, 96.72s/it] 52%|█████▏    | 90/172 [2:54:21<2:11:25, 96.16s/it] 53%|█████▎    | 91/172 [2:56:03<2:12:11, 97.92s/it] 53%|█████▎    | 92/172 [2:57:17<2:01:08, 90.85s/it] 54%|█████▍    | 93/172 [2:58:39<1:55:56, 88.06s/it] 55%|█████▍    | 94/172 [2:59:51<1:48:30, 83.46s/it] 55%|█████▌    | 95/172 [3:01:05<1:43:30, 80.65s/it] 56%|█████▌    | 96/172 [3:02:06<1:34:29, 74.60s/it] 56%|█████▋    | 97/172 [3:03:45<1:42:17, 81.83s/it] 57%|█████▋    | 98/172 [3:05:22<1:46:39, 86.48s/it] 58%|█████▊    | 99/172 [3:06:41<1:42:23, 84.16s/it] 58%|█████▊    | 100/172 [3:08:05<1:41:05, 84.25s/it] 59%|█████▊    | 101/172 [3:09:34<1:41:16, 85.58s/it] 59%|█████▉    | 102/172 [3:11:10<1:43:29, 88.70s/it] 60%|█████▉    | 103/172 [3:12:43<1:43:43, 90.20s/it] 60%|██████    | 104/172 [3:14:09<1:40:30, 88.68s/it] 61%|██████    | 105/172 [3:16:02<1:47:16, 96.07s/it] 62%|██████▏   | 106/172 [3:17:48<1:48:53, 98.99s/it] 62%|██████▏   | 107/172 [3:19:11<1:42:06, 94.25s/it] 63%|██████▎   | 108/172 [3:20:35<1:37:21, 91.27s/it] 63%|██████▎   | 109/172 [3:22:34<1:44:25, 99.46s/it] 64%|██████▍   | 110/172 [3:24:26<1:46:41, 103.25s/it] 65%|██████▍   | 111/172 [3:25:43<1:36:57, 95.37s/it]  65%|██████▌   | 112/172 [3:27:11<1:33:09, 93.16s/it] 66%|██████▌   | 113/172 [3:28:31<1:27:48, 89.30s/it] 66%|██████▋   | 114/172 [3:30:06<1:27:51, 90.89s/it] 67%|██████▋   | 115/172 [3:32:06<1:34:43, 99.71s/it] 67%|██████▋   | 116/172 [3:33:35<1:29:55, 96.35s/it] 68%|██████▊   | 117/172 [3:35:10<1:28:02, 96.05s/it] 69%|██████▊   | 118/172 [3:36:49<1:27:23, 97.10s/it] 69%|██████▉   | 119/172 [3:38:27<1:25:45, 97.08s/it] 70%|██████▉   | 120/172 [3:40:02<1:23:38, 96.51s/it] 70%|███████   | 121/172 [3:41:15<1:16:02, 89.45s/it] 71%|███████   | 122/172 [3:42:47<1:15:11, 90.23s/it] 72%|███████▏  | 123/172 [3:44:07<1:11:12, 87.20s/it] 72%|███████▏  | 124/172 [3:45:25<1:07:33, 84.45s/it] 73%|███████▎  | 125/172 [3:46:49<1:05:57, 84.20s/it] 73%|███████▎  | 126/172 [3:48:21<1:06:24, 86.62s/it] 74%|███████▍  | 127/172 [3:49:50<1:05:28, 87.31s/it] 74%|███████▍  | 128/172 [3:51:12<1:02:49, 85.67s/it] 75%|███████▌  | 129/172 [3:52:40<1:01:54, 86.38s/it] 76%|███████▌  | 130/172 [3:53:52<57:27, 82.09s/it]   76%|███████▌  | 131/172 [3:55:03<53:51, 78.81s/it] 77%|███████▋  | 132/172 [3:56:13<50:46, 76.16s/it] 77%|███████▋  | 133/172 [3:57:27<49:08, 75.60s/it] 78%|███████▊  | 134/172 [3:58:57<50:32, 79.80s/it] 78%|███████▊  | 135/172 [4:00:27<51:09, 82.95s/it] 79%|███████▉  | 136/172 [4:01:48<49:26, 82.40s/it] 80%|███████▉  | 137/172 [4:03:29<51:15, 87.88s/it] 80%|████████  | 138/172 [4:04:38<46:38, 82.32s/it] 81%|████████  | 139/172 [4:05:58<44:49, 81.49s/it] 81%|████████▏ | 140/172 [4:07:14<42:33, 79.81s/it] 82%|████████▏ | 141/172 [4:08:20<39:08, 75.77s/it] 83%|████████▎ | 142/172 [4:09:29<36:54, 73.82s/it] 83%|████████▎ | 143/172 [4:10:38<34:54, 72.22s/it] 84%|████████▎ | 144/172 [4:11:40<32:17, 69.18s/it] 84%|████████▍ | 145/172 [4:12:58<32:21, 71.92s/it] 85%|████████▍ | 146/172 [4:14:17<32:01, 73.92s/it] 85%|████████▌ | 147/172 [4:15:26<30:12, 72.49s/it] 86%|████████▌ | 148/172 [4:16:38<28:59, 72.49s/it] 87%|████████▋ | 149/172 [4:17:49<27:33, 71.90s/it] 87%|████████▋ | 150/172 [4:18:50<25:13, 68.81s/it] 88%|████████▊ | 151/172 [4:19:53<23:28, 67.09s/it] 88%|████████▊ | 152/172 [4:21:10<23:16, 69.80s/it] 89%|████████▉ | 153/172 [4:22:20<22:08, 69.93s/it] 90%|████████▉ | 154/172 [4:23:41<21:56, 73.17s/it] 90%|█████████ | 155/172 [4:24:53<20:39, 72.92s/it] 91%|█████████ | 156/172 [4:26:10<19:45, 74.12s/it] 91%|█████████▏| 157/172 [4:27:17<18:01, 72.11s/it] 92%|█████████▏| 158/172 [4:28:24<16:26, 70.49s/it] 92%|█████████▏| 159/172 [4:29:48<16:09, 74.55s/it] 93%|█████████▎| 160/172 [4:31:13<15:31, 77.67s/it] 94%|█████████▎| 161/172 [4:32:47<15:09, 82.66s/it] 94%|█████████▍| 162/172 [4:34:15<14:02, 84.29s/it] 95%|█████████▍| 163/172 [4:35:40<12:40, 84.53s/it] 95%|█████████▌| 164/172 [4:37:13<11:36, 87.06s/it] 96%|█████████▌| 165/172 [4:38:37<10:01, 85.98s/it] 97%|█████████▋| 166/172 [4:39:57<08:24, 84.09s/it] 97%|█████████▋| 167/172 [4:41:09<06:43, 80.73s/it] 98%|█████████▊| 168/172 [4:42:19<05:09, 77.35s/it] 98%|█████████▊| 169/172 [4:43:37<03:52, 77.61s/it] 99%|█████████▉| 170/172 [4:44:51<02:33, 76.57s/it] 99%|█████████▉| 171/172 [4:46:05<01:15, 75.64s/it]100%|██████████| 172/172 [4:46:16<00:00, 56.37s/it]100%|██████████| 172/172 [4:46:16<00:00, 99.86s/it]
Total: 10955
08/02/2024 23:35:40 - INFO - __main__ -     bleu-4 = 18.79 
08/02/2024 23:35:40 - INFO - __main__ -     ********************
08/02/2024 23:35:40 - INFO - __main__ -   Average inference time: 99.8032849638961
