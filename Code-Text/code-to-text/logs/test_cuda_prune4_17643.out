07/16/2024 16:14:24 - INFO - __main__ -   Namespace(model_type='roberta', model_name_or_path='microsoft/codebert-base', output_dir='model/java', load_model_path='model/java/checkpoint-best-bleu/pytorch_model.bin', train_filename=None, dev_filename=None, test_filename='../dataset/java/test.jsonl', config_name='', tokenizer_name='', max_source_length=256, max_target_length=128, do_train=False, do_eval=False, do_test=True, do_lower_case=False, no_cuda=False, quantize=False, quantize4=False, quantizef8=False, prune=False, prune4=True, prune6=False, do_retrain=False, train_batch_size=8, eval_batch_size=64, gradient_accumulation_steps=1, learning_rate=5e-05, beam_size=10, weight_decay=0.0, adam_epsilon=1e-08, max_grad_norm=1.0, num_train_epochs=3, max_steps=-1, eval_steps=-1, train_steps=-1, warmup_steps=0, local_rank=-1, seed=42, job_id='17643', file_len=300)
07/16/2024 16:14:24 - WARNING - __main__ -   Process rank: -1, device: cuda, n_gpu: 1, distributed training: False
07/16/2024 16:14:26 - INFO - __main__ -   reload model from model/java/checkpoint-best-bleu/pytorch_model.bin
07/16/2024 16:14:27 - INFO - __main__ -   Apply model pruning 0.4
07/16/2024 16:14:30 - INFO - __main__ -   Size (MB): 706.91481
07/16/2024 16:14:30 - INFO - __main__ -   Test file: ../dataset/java/test.jsonl
  0%|          | 0/172 [00:00<?, ?it/s]/NFSHOME/gdaloisio/code/CodeXGLUE/Code-Text/code-to-text/code/model.py:114: UserWarning: The torch.cuda.*DtypeTensor constructors are no longer recommended. It's best to use methods such as torch.tensor(data, dtype=*, device='cuda') to create tensors. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:78.)
  self.scores = self.tt.FloatTensor(size).zero_()
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
  1%|          | 1/172 [01:46<5:03:06, 106.35s/it]  1%|          | 2/172 [02:46<3:44:26, 79.21s/it]   2%|▏         | 3/172 [03:56<3:30:47, 74.83s/it]  2%|▏         | 4/172 [04:42<2:58:04, 63.60s/it]  3%|▎         | 5/172 [05:38<2:49:14, 60.80s/it]  3%|▎         | 6/172 [07:42<3:47:26, 82.21s/it]  4%|▍         | 7/172 [09:25<4:05:10, 89.15s/it]  5%|▍         | 8/172 [10:40<3:51:26, 84.68s/it]  5%|▌         | 9/172 [11:31<3:21:08, 74.04s/it]  6%|▌         | 10/172 [12:25<3:03:04, 67.81s/it]  6%|▋         | 11/172 [13:29<2:58:51, 66.66s/it]  7%|▋         | 12/172 [14:22<2:46:54, 62.59s/it]  8%|▊         | 13/172 [15:37<2:56:06, 66.45s/it]  8%|▊         | 14/172 [17:23<3:26:05, 78.26s/it]  9%|▊         | 15/172 [18:25<3:11:38, 73.24s/it]  9%|▉         | 16/172 [19:54<3:22:59, 78.07s/it] 10%|▉         | 17/172 [20:41<2:58:03, 68.92s/it]slurmstepd-compute-0-3: error: *** STEP 17643.0 ON compute-0-3 CANCELLED AT 2024-07-16T16:35:27 ***
slurmstepd-compute-0-3: error: *** JOB 17643 ON compute-0-3 CANCELLED AT 2024-07-16T16:35:27 ***
srun: error: compute-0-3: task 0: Terminated
