No CUDA runtime is found, using CUDA_HOME='/usr/local/cuda'
07/24/2024 21:13:06 - INFO - __main__ -   Namespace(model_type='distilbert', model_name_or_path='distilbert/distilbert-base-uncased', output_dir='model_distilbert/java', load_model_path='model_distilbert/java/checkpoint-best-bleu/pytorch_model.bin', train_filename=None, dev_filename=None, test_filename='../dataset/java/test.jsonl', config_name='', tokenizer_name='', max_source_length=256, max_target_length=128, do_train=False, do_eval=False, do_test=True, do_lower_case=False, no_cuda=True, quantize=False, quantize4=False, quantizef8=False, prune=False, prune4=False, prune6=False, do_retrain=False, train_batch_size=8, eval_batch_size=64, gradient_accumulation_steps=1, learning_rate=5e-05, beam_size=10, weight_decay=0.0, adam_epsilon=1e-08, max_grad_norm=1.0, num_train_epochs=3, max_steps=-1, eval_steps=-1, train_steps=-1, warmup_steps=0, local_rank=-1, seed=42, job_id='44534', file_len=300)
07/24/2024 21:13:06 - WARNING - __main__ -   Process rank: -1, device: cpu, n_gpu: 2, distributed training: False
07/24/2024 21:13:09 - INFO - __main__ -   reload model from model_distilbert/java/checkpoint-best-bleu/pytorch_model.bin
07/24/2024 21:13:12 - INFO - __main__ -   Test file: ../dataset/java/test.jsonl
  0%|          | 0/172 [00:00<?, ?it/s]  1%|          | 1/172 [01:25<4:02:18, 85.02s/it]  1%|          | 2/172 [03:02<4:20:54, 92.08s/it]  2%|▏         | 3/172 [03:57<3:32:11, 75.34s/it]  2%|▏         | 4/172 [05:27<3:47:22, 81.21s/it]  3%|▎         | 5/172 [06:31<3:28:54, 75.06s/it]  3%|▎         | 6/172 [07:39<3:20:50, 72.60s/it]  4%|▍         | 7/172 [08:46<3:14:02, 70.56s/it]  5%|▍         | 8/172 [09:57<3:13:49, 70.91s/it]  5%|▌         | 9/172 [11:29<3:30:29, 77.48s/it]  6%|▌         | 10/172 [13:43<4:16:25, 94.97s/it]  6%|▋         | 11/172 [14:50<3:51:39, 86.33s/it]  7%|▋         | 12/172 [15:58<3:35:09, 80.69s/it]  8%|▊         | 13/172 [17:25<3:38:47, 82.56s/it]  8%|▊         | 14/172 [18:37<3:29:32, 79.57s/it]  9%|▊         | 15/172 [19:38<3:13:19, 73.88s/it]  9%|▉         | 16/172 [20:32<2:56:52, 68.03s/it] 10%|▉         | 17/172 [21:39<2:54:56, 67.72s/it] 10%|█         | 18/172 [22:39<2:47:35, 65.29s/it] 11%|█         | 19/172 [23:51<2:51:30, 67.26s/it] 12%|█▏        | 20/172 [25:01<2:52:44, 68.18s/it] 12%|█▏        | 21/172 [26:04<2:47:27, 66.54s/it] 13%|█▎        | 22/172 [27:08<2:44:07, 65.65s/it] 13%|█▎        | 23/172 [28:14<2:43:27, 65.82s/it] 14%|█▍        | 24/172 [29:28<2:48:28, 68.30s/it] 15%|█▍        | 25/172 [30:36<2:46:53, 68.12s/it] 15%|█▌        | 26/172 [31:41<2:43:51, 67.34s/it] 16%|█▌        | 27/172 [32:53<2:45:46, 68.60s/it] 16%|█▋        | 28/172 [34:14<2:53:58, 72.49s/it] 17%|█▋        | 29/172 [35:18<2:46:21, 69.80s/it] 17%|█▋        | 30/172 [36:39<2:53:07, 73.15s/it] 18%|█▊        | 31/172 [37:56<2:54:40, 74.33s/it] 19%|█▊        | 32/172 [39:20<3:00:37, 77.41s/it] 19%|█▉        | 33/172 [40:31<2:54:27, 75.31s/it] 20%|█▉        | 34/172 [42:05<3:06:02, 80.89s/it] 20%|██        | 35/172 [43:48<3:19:47, 87.50s/it] 21%|██        | 36/172 [45:17<3:19:32, 88.03s/it] 22%|██▏       | 37/172 [46:32<3:09:21, 84.16s/it] 22%|██▏       | 38/172 [47:53<3:05:44, 83.16s/it] 23%|██▎       | 39/172 [50:06<3:37:52, 98.29s/it] 23%|██▎       | 40/172 [51:20<3:19:51, 90.84s/it] 24%|██▍       | 41/172 [52:23<3:00:07, 82.50s/it] 24%|██▍       | 42/172 [53:22<2:43:37, 75.52s/it] 25%|██▌       | 43/172 [54:34<2:40:17, 74.56s/it] 26%|██▌       | 44/172 [55:35<2:30:18, 70.46s/it] 26%|██▌       | 45/172 [56:55<2:34:48, 73.14s/it] 27%|██▋       | 46/172 [58:09<2:34:37, 73.63s/it] 27%|██▋       | 47/172 [59:24<2:33:54, 73.88s/it] 28%|██▊       | 48/172 [1:00:31<2:28:35, 71.90s/it] 28%|██▊       | 49/172 [1:01:55<2:34:37, 75.43s/it] 29%|██▉       | 50/172 [1:03:08<2:31:50, 74.68s/it] 30%|██▉       | 51/172 [1:04:28<2:33:57, 76.35s/it] 30%|███       | 52/172 [1:05:32<2:24:58, 72.48s/it] 31%|███       | 53/172 [1:06:56<2:30:56, 76.11s/it] 31%|███▏      | 54/172 [1:07:59<2:21:39, 72.03s/it] 32%|███▏      | 55/172 [1:09:02<2:15:20, 69.41s/it] 33%|███▎      | 56/172 [1:10:19<2:18:54, 71.85s/it] 33%|███▎      | 57/172 [1:12:08<2:38:46, 82.84s/it] 34%|███▎      | 58/172 [1:13:35<2:39:51, 84.13s/it] 34%|███▍      | 59/172 [1:14:48<2:32:11, 80.81s/it] 35%|███▍      | 60/172 [1:16:30<2:42:32, 87.08s/it] 35%|███▌      | 61/172 [1:18:10<2:48:09, 90.89s/it] 36%|███▌      | 62/172 [1:19:15<2:32:34, 83.23s/it] 37%|███▋      | 63/172 [1:21:08<2:47:21, 92.12s/it] 37%|███▋      | 64/172 [1:22:10<2:29:44, 83.19s/it] 38%|███▊      | 65/172 [1:23:11<2:16:23, 76.48s/it] 38%|███▊      | 66/172 [1:24:13<2:07:38, 72.25s/it] 39%|███▉      | 67/172 [1:26:09<2:28:57, 85.12s/it] 40%|███▉      | 68/172 [1:28:24<2:53:52, 100.31s/it] 40%|████      | 69/172 [1:30:01<2:50:11, 99.14s/it]  41%|████      | 70/172 [1:32:01<2:59:30, 105.59s/it] 41%|████▏     | 71/172 [1:34:05<3:07:03, 111.12s/it] 42%|████▏     | 72/172 [1:35:41<2:57:34, 106.54s/it] 42%|████▏     | 73/172 [1:36:53<2:38:48, 96.24s/it]  43%|████▎     | 74/172 [1:38:13<2:29:12, 91.35s/it] 44%|████▎     | 75/172 [1:41:30<3:18:55, 123.04s/it] 44%|████▍     | 76/172 [1:44:17<3:37:48, 136.13s/it] 45%|████▍     | 77/172 [1:47:25<3:59:58, 151.56s/it] 45%|████▌     | 78/172 [1:49:37<3:48:39, 145.95s/it] 46%|████▌     | 79/172 [1:51:27<3:29:07, 134.91s/it] 47%|████▋     | 80/172 [1:53:20<3:16:50, 128.38s/it] 47%|████▋     | 81/172 [1:55:12<3:07:11, 123.43s/it] 48%|████▊     | 82/172 [1:56:09<2:35:26, 103.63s/it] 48%|████▊     | 83/172 [1:57:05<2:12:33, 89.37s/it]  49%|████▉     | 84/172 [1:58:53<2:19:24, 95.05s/it] 49%|████▉     | 85/172 [2:01:34<2:46:05, 114.55s/it] 50%|█████     | 86/172 [2:04:56<3:21:57, 140.90s/it] 51%|█████     | 87/172 [2:07:35<3:27:21, 146.37s/it] 51%|█████     | 88/172 [2:11:26<4:00:22, 171.70s/it] 52%|█████▏    | 89/172 [2:13:15<3:31:22, 152.80s/it] 52%|█████▏    | 90/172 [2:16:29<3:45:57, 165.33s/it] 53%|█████▎    | 91/172 [2:18:43<3:30:21, 155.82s/it] 53%|█████▎    | 92/172 [2:20:54<3:18:06, 148.58s/it] 54%|█████▍    | 93/172 [2:22:01<2:43:19, 124.05s/it] 55%|█████▍    | 94/172 [2:24:11<2:43:25, 125.71s/it] 55%|█████▌    | 95/172 [2:26:27<2:45:22, 128.86s/it] 56%|█████▌    | 96/172 [2:27:47<2:24:32, 114.11s/it] 56%|█████▋    | 97/172 [2:28:58<2:06:23, 101.11s/it] 57%|█████▋    | 98/172 [2:30:25<1:59:44, 97.09s/it]  58%|█████▊    | 99/172 [2:32:05<1:59:15, 98.01s/it] 58%|█████▊    | 100/172 [2:33:37<1:55:13, 96.03s/it] 59%|█████▊    | 101/172 [2:35:37<2:02:18, 103.36s/it] 59%|█████▉    | 102/172 [2:37:12<1:57:37, 100.82s/it] 60%|█████▉    | 103/172 [2:38:11<1:41:30, 88.27s/it]  60%|██████    | 104/172 [2:39:14<1:31:25, 80.67s/it] 61%|██████    | 105/172 [2:40:17<1:24:14, 75.45s/it] 62%|██████▏   | 106/172 [2:41:20<1:18:47, 71.62s/it] 62%|██████▏   | 107/172 [2:42:30<1:16:54, 71.00s/it] 63%|██████▎   | 108/172 [2:44:04<1:23:07, 77.92s/it] 63%|██████▎   | 109/172 [2:45:35<1:25:58, 81.88s/it] 64%|██████▍   | 110/172 [2:47:38<1:37:24, 94.27s/it] 65%|██████▍   | 111/172 [2:49:26<1:39:55, 98.29s/it] 65%|██████▌   | 112/172 [2:50:42<1:31:35, 91.59s/it] 66%|██████▌   | 113/172 [2:51:58<1:25:42, 87.16s/it] 66%|██████▋   | 114/172 [2:53:10<1:19:42, 82.46s/it] 67%|██████▋   | 115/172 [2:54:51<1:23:46, 88.19s/it] 67%|██████▋   | 116/172 [2:56:14<1:20:48, 86.58s/it] 68%|██████▊   | 117/172 [2:57:34<1:17:22, 84.41s/it] 69%|██████▊   | 118/172 [2:58:57<1:15:37, 84.03s/it] 69%|██████▉   | 119/172 [3:00:07<1:10:38, 79.98s/it] 70%|██████▉   | 120/172 [3:01:30<1:10:07, 80.91s/it] 70%|███████   | 121/172 [3:02:34<1:04:22, 75.73s/it] 71%|███████   | 122/172 [3:03:42<1:01:13, 73.47s/it] 72%|███████▏  | 123/172 [3:04:44<57:10, 70.00s/it]   72%|███████▏  | 124/172 [3:06:05<58:33, 73.21s/it] 73%|███████▎  | 125/172 [3:07:29<59:53, 76.46s/it] 73%|███████▎  | 126/172 [3:08:49<59:31, 77.64s/it] 74%|███████▍  | 127/172 [3:10:34<1:04:14, 85.66s/it] 74%|███████▍  | 128/172 [3:11:55<1:01:58, 84.51s/it] 75%|███████▌  | 129/172 [3:12:44<52:53, 73.79s/it]   76%|███████▌  | 130/172 [3:13:56<51:09, 73.10s/it] 76%|███████▌  | 131/172 [3:14:53<46:46, 68.46s/it] 77%|███████▋  | 132/172 [3:16:01<45:32, 68.30s/it] 77%|███████▋  | 133/172 [3:16:53<41:04, 63.20s/it] 78%|███████▊  | 134/172 [3:18:15<43:36, 68.85s/it] 78%|███████▊  | 135/172 [3:19:07<39:30, 64.05s/it] 79%|███████▉  | 136/172 [3:20:01<36:28, 60.78s/it] 80%|███████▉  | 137/172 [3:21:39<41:59, 71.98s/it] 80%|████████  | 138/172 [3:22:48<40:24, 71.32s/it] 81%|████████  | 139/172 [3:24:29<44:00, 80.02s/it] 81%|████████▏ | 140/172 [3:25:53<43:21, 81.28s/it] 82%|████████▏ | 141/172 [3:28:38<55:00, 106.46s/it] 83%|████████▎ | 142/172 [3:30:02<49:49, 99.66s/it]  83%|████████▎ | 143/172 [3:31:49<49:12, 101.82s/it] 84%|████████▎ | 144/172 [3:32:44<40:56, 87.73s/it]  84%|████████▍ | 145/172 [3:34:14<39:50, 88.53s/it] 85%|████████▍ | 146/172 [3:35:21<35:29, 81.90s/it] 85%|████████▌ | 147/172 [3:36:29<32:25, 77.82s/it] 86%|████████▌ | 148/172 [3:38:19<35:01, 87.57s/it] 87%|████████▋ | 149/172 [3:40:08<35:59, 93.91s/it] 87%|████████▋ | 150/172 [3:41:20<32:00, 87.31s/it] 88%|████████▊ | 151/172 [3:42:29<28:37, 81.76s/it] 88%|████████▊ | 152/172 [3:44:31<31:19, 93.96s/it] 89%|████████▉ | 153/172 [3:45:29<26:20, 83.19s/it] 90%|████████▉ | 154/172 [3:46:31<23:00, 76.68s/it] 90%|█████████ | 155/172 [3:47:57<22:31, 79.53s/it] 91%|█████████ | 156/172 [3:49:24<21:50, 81.92s/it] 91%|█████████▏| 157/172 [3:51:07<22:04, 88.27s/it] 92%|█████████▏| 158/172 [3:52:36<20:35, 88.26s/it] 92%|█████████▏| 159/172 [3:54:07<19:19, 89.21s/it] 93%|█████████▎| 160/172 [3:55:15<16:32, 82.74s/it] 94%|█████████▎| 161/172 [3:56:29<14:42, 80.21s/it] 94%|█████████▍| 162/172 [3:57:48<13:16, 79.70s/it] 95%|█████████▍| 163/172 [3:59:04<11:48, 78.77s/it] 95%|█████████▌| 164/172 [4:00:18<10:19, 77.43s/it] 96%|█████████▌| 165/172 [4:01:50<09:32, 81.76s/it] 97%|█████████▋| 166/172 [4:03:37<08:56, 89.37s/it] 97%|█████████▋| 167/172 [4:04:43<06:51, 82.30s/it] 98%|█████████▊| 168/172 [4:06:34<06:03, 90.77s/it] 98%|█████████▊| 169/172 [4:07:48<04:17, 85.86s/it] 99%|█████████▉| 170/172 [4:09:05<02:46, 83.05s/it] 99%|█████████▉| 171/172 [4:10:29<01:23, 83.35s/it]100%|██████████| 172/172 [4:10:39<00:00, 61.44s/it]100%|██████████| 172/172 [4:10:39<00:00, 87.44s/it]
Total: 10955
07/25/2024 01:24:30 - INFO - __main__ -     bleu-4 = 10.84 
07/25/2024 01:24:30 - INFO - __main__ -     ********************
07/25/2024 01:24:30 - INFO - __main__ -   Average inference time: 87.41427624918694
