09/09/2024 00:07:29 - INFO - __main__ -   Namespace(model_type='roberta', model_name_or_path='huggingface/CodeBERTa-small-v1', output_dir='model_codeberta_small/java', load_model_path='model_codeberta_small/java/checkpoint-best-bleu/pytorch_model.bin', train_filename=None, dev_filename='../dataset/java/valid.jsonl', test_filename='../dataset/java/test.jsonl', config_name='', tokenizer_name='', max_source_length=256, max_target_length=128, do_train=False, do_eval=False, do_test=True, do_lower_case=False, no_cuda=False, quantize=False, quantize4=False, quantizef8=False, prune=False, prune4=False, prune6=False, do_retrain=False, train_batch_size=8, eval_batch_size=64, gradient_accumulation_steps=1, learning_rate=5e-05, beam_size=10, weight_decay=0.0, adam_epsilon=1e-08, max_grad_norm=1.0, num_train_epochs=3, max_steps=-1, eval_steps=-1, train_steps=-1, warmup_steps=0, local_rank=-1, seed=42, job_id='155475', file_len=None)
09/09/2024 00:07:29 - WARNING - __main__ -   Process rank: -1, device: cuda, n_gpu: 1, distributed training: False
09/09/2024 00:07:34 - INFO - __main__ -   reload model from model_codeberta_small/java/checkpoint-best-bleu/pytorch_model.bin
09/09/2024 00:07:39 - INFO - __main__ -   Size (MB): 542.096148
09/09/2024 00:07:39 - INFO - __main__ -   Test file: ../dataset/java/valid.jsonl
  0%|          | 0/81 [00:00<?, ?it/s]/NFSHOME/gdaloisio/code/CodeXGLUE/Code-Text/code-to-text/code/model.py:114: UserWarning: The torch.cuda.*DtypeTensor constructors are no longer recommended. It's best to use methods such as torch.tensor(data, dtype=*, device='cuda') to create tensors. (Triggered internally at ../torch/csrc/tensor/python_tensor.cpp:78.)
  self.scores = self.tt.FloatTensor(size).zero_()
  1%|          | 1/81 [00:38<51:43, 38.79s/it]  2%|▏         | 2/81 [01:04<40:46, 30.97s/it]  4%|▎         | 3/81 [01:35<40:41, 31.30s/it]  5%|▍         | 4/81 [02:03<38:23, 29.91s/it]  6%|▌         | 5/81 [02:25<34:20, 27.11s/it]  7%|▋         | 6/81 [02:47<31:41, 25.35s/it]  9%|▊         | 7/81 [03:09<29:49, 24.19s/it] 10%|▉         | 8/81 [03:33<29:29, 24.24s/it] 11%|█         | 9/81 [03:59<29:28, 24.57s/it] 12%|█▏        | 10/81 [04:20<28:00, 23.67s/it] 14%|█▎        | 11/81 [04:44<27:28, 23.56s/it] 15%|█▍        | 12/81 [05:08<27:24, 23.83s/it] 16%|█▌        | 13/81 [05:30<26:09, 23.08s/it] 17%|█▋        | 14/81 [05:52<25:26, 22.78s/it] 19%|█▊        | 15/81 [06:16<25:30, 23.19s/it] 20%|█▉        | 16/81 [06:39<25:14, 23.30s/it] 21%|██        | 17/81 [07:03<24:57, 23.40s/it] 22%|██▏       | 18/81 [07:28<24:56, 23.75s/it] 23%|██▎       | 19/81 [07:48<23:32, 22.78s/it] 25%|██▍       | 20/81 [08:31<29:14, 28.77s/it] 26%|██▌       | 21/81 [08:52<26:38, 26.65s/it] 27%|██▋       | 22/81 [09:18<25:51, 26.29s/it] 28%|██▊       | 23/81 [09:43<25:08, 26.01s/it] 30%|██▉       | 24/81 [10:07<24:00, 25.27s/it] 31%|███       | 25/81 [10:32<23:27, 25.13s/it] 32%|███▏      | 26/81 [10:54<22:14, 24.27s/it] 33%|███▎      | 27/81 [11:19<22:03, 24.51s/it] 35%|███▍      | 28/81 [11:43<21:28, 24.30s/it] 36%|███▌      | 29/81 [12:05<20:28, 23.62s/it] 37%|███▋      | 30/81 [12:29<20:08, 23.70s/it] 38%|███▊      | 31/81 [12:50<19:07, 22.96s/it] 40%|███▉      | 32/81 [13:12<18:29, 22.64s/it] 41%|████      | 33/81 [13:34<17:53, 22.37s/it] 42%|████▏     | 34/81 [13:55<17:19, 22.12s/it] 43%|████▎     | 35/81 [14:19<17:20, 22.63s/it] 44%|████▍     | 36/81 [14:43<17:12, 22.95s/it] 46%|████▌     | 37/81 [15:06<16:49, 22.94s/it] 47%|████▋     | 38/81 [15:28<16:22, 22.85s/it] 48%|████▊     | 39/81 [15:55<16:49, 24.03s/it] 49%|████▉     | 40/81 [16:18<16:09, 23.65s/it] 51%|█████     | 41/81 [16:41<15:39, 23.48s/it] 52%|█████▏    | 42/81 [17:05<15:24, 23.71s/it] 53%|█████▎    | 43/81 [17:28<14:51, 23.45s/it] 54%|█████▍    | 44/81 [17:46<13:30, 21.89s/it] 56%|█████▌    | 45/81 [18:06<12:50, 21.41s/it] 57%|█████▋    | 46/81 [18:27<12:19, 21.12s/it] 58%|█████▊    | 47/81 [18:50<12:21, 21.80s/it] 59%|█████▉    | 48/81 [19:13<12:13, 22.23s/it] 60%|██████    | 49/81 [19:38<12:13, 22.93s/it] 62%|██████▏   | 50/81 [19:59<11:32, 22.34s/it] 63%|██████▎   | 51/81 [20:20<10:53, 21.78s/it] 64%|██████▍   | 52/81 [20:42<10:37, 22.00s/it] 65%|██████▌   | 53/81 [21:02<10:02, 21.50s/it] 67%|██████▋   | 54/81 [21:25<09:47, 21.77s/it] 68%|██████▊   | 55/81 [21:48<09:40, 22.31s/it] 69%|██████▉   | 56/81 [22:12<09:30, 22.82s/it] 70%|███████   | 57/81 [22:41<09:51, 24.64s/it] 72%|███████▏  | 58/81 [23:02<09:01, 23.56s/it] 73%|███████▎  | 59/81 [23:23<08:16, 22.58s/it] 74%|███████▍  | 60/81 [23:44<07:46, 22.22s/it] 75%|███████▌  | 61/81 [24:05<07:15, 21.79s/it] 77%|███████▋  | 62/81 [24:24<06:42, 21.18s/it] 78%|███████▊  | 63/81 [24:45<06:15, 20.89s/it] 79%|███████▉  | 64/81 [25:03<05:40, 20.03s/it] 80%|████████  | 65/81 [25:24<05:26, 20.42s/it] 81%|████████▏ | 66/81 [25:47<05:18, 21.23s/it] 83%|████████▎ | 67/81 [26:09<05:00, 21.43s/it] 84%|████████▍ | 68/81 [26:33<04:47, 22.08s/it] 85%|████████▌ | 69/81 [26:56<04:30, 22.51s/it] 86%|████████▋ | 70/81 [27:18<04:04, 22.21s/it] 88%|████████▊ | 71/81 [27:42<03:49, 22.93s/it] 89%|████████▉ | 72/81 [28:05<03:26, 22.96s/it] 90%|█████████ | 73/81 [28:27<02:59, 22.47s/it] 91%|█████████▏| 74/81 [28:49<02:36, 22.35s/it] 93%|█████████▎| 75/81 [29:10<02:12, 22.11s/it] 94%|█████████▍| 76/81 [29:33<01:50, 22.19s/it] 95%|█████████▌| 77/81 [29:56<01:30, 22.55s/it] 96%|█████████▋| 78/81 [30:16<01:05, 21.92s/it] 98%|█████████▊| 79/81 [30:38<00:43, 21.72s/it] 99%|█████████▉| 80/81 [30:58<00:21, 21.14s/it]100%|██████████| 81/81 [31:18<00:00, 20.93s/it]100%|██████████| 81/81 [31:18<00:00, 23.19s/it]
Traceback (most recent call last):
  File "/NFSHOME/gdaloisio/code/CodeXGLUE/Code-Text/code-to-text/code/run.py", line 877, in <module>
    main()
  File "/NFSHOME/gdaloisio/code/CodeXGLUE/Code-Text/code-to-text/code/run.py", line 862, in main
    (goldMap, predictionMap) = bleu.computeMaps(predictions, os.path.join(args.output_dir, "test_{}.gold".format(idx))) 
  File "/NFSHOME/gdaloisio/code/CodeXGLUE/Code-Text/code-to-text/code/bleu.py", line 159, in computeMaps
    gf = open(goldfile, 'r')
FileNotFoundError: [Errno 2] No such file or directory: 'model_codeberta_small/java/test_0.gold'
srun: error: compute-0-3: task 0: Exited with exit code 1
